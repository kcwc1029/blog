
## 二分搜尋法
### 69. Palindrome Number
- 判斷回文
- 解法1：轉字串後，用雙指針判斷
```cpp
class Solution {
public:
    bool isPalindrome(int x) {
        if(x<0) return false;
        string s = to_string(x);
        int n = s.size();
        int left = 0, right = n-1;
        while(left<right){
            // 判斷
            if(s[left]==s[right]){
                left++;
                right--;
            }else{
                return false;
            }
        }
        return true;
    }
};
```
- 解法2：用數學的方式
![upgit_20241127_1732697628.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2024/11/upgit_20241127_1732697628.png)
```cpp
class Solution {
public:
    int mySqrt(int x) {
        if (x == 0 || x == 1) return x;
        int left = 0, right = x; // right 初始化為 x，避免無效的範圍
        while (left <= right) { // 條件應該包含等號，確保所有範圍都被檢查
            int mid = left + (right - left) / 2;
            
            if (mid > x / mid) {
                right = mid - 1; // mid 太大，縮小右邊界
            } else if (mid < x / mid) {
                left = mid + 1; // mid 太小，增大左邊界
            } else {
                return mid; // 找到精確的平方根
            }
        }
        return right; // 回傳最接近的整數平方根
    }
};
```
### 258. Add Digits
```cpp
class Solution {
public:
    int addDigits(int num) {
        while(num>9){ // 只接受一位數
            int temp = 0; // 紀錄每位相加的值
            while(num>0){
                temp+=(num%10);
                num/=10;
            }
            num = temp;
        }
        return num;
    }
};
```
### 263. Ugly Number
- Ugly Number：只包含质因数 2、3 和 5 的 正 整数。
- 1也是Ugly Number
```cpp
class Solution {
public:
    bool isUgly(int n) {
        if(n<=0) return false;
        while(n!=1){
            if(n%2==0) n/=2;
            else if(n%3==0) n/=3;
            else if(n%5==0) n/=5;
            else return false;
        }
        return true;
    }
};
```

### 292. Nim Game
- Nim Game：2人遊戲(你跟對手)，你為先手
	- 每一回合，轮到的人拿掉 1 - 3 块石头。
	- 拿掉最后一块石头的人就是获胜者。
![upgit_20241129_1732866680.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2024/11/upgit_20241129_1732866680.png)

```cpp
class Solution {
public:
    bool canWinNim(int n) {
        return n%4!=0;
    }
};
```
### 326. Power of Three
- 查看使否為3的次方
```cpp
class Solution {
public:
    // 就一值除
    bool isPowerOfThree(int n) {
        while(n && n%3==0) n/=3;
        return n==1;
    }
};
```
### 342. Power of Four
- 解法1：查看使否為1的次方
```cpp
class Solution {
public:
    bool isPowerOfFour(int n) {
        // if(n<0) return false;
        // int x = (int)sqrt(n);
        // return pow(x,2)==n && n && (x & -x) == x;
        while(n && n%4==0) n/=4;
        return n==1;
    }
};
```
- 解法2： 檢查是否為4的次方=>檢查開跟號後是否為2的次方
```cpp
class Solution {
public:
    bool isPowerOfFour(int n) {
        if(n<0) return false;
        int x = (int)sqrt(n);
        return pow(x,2)==n && n && (x & -x) == x;
    }
};
```
### 367. Valid Perfect Square
- 判斷是否為完全平方數
- 解法1：先開根號，在平方，看是否一樣。
```cpp
class Solution {
public:
    bool isPerfectSquare(int num) {
        int x = (int) sqrt(num);
        return x*x == num;
    }
};
```
- 解法2：二分去找(純屬裝牛B)
```cpp
class Solution {
public:
    bool isPerfectSquare(int num) {
        int left = 0;
        int right = num;
        while(left<=right){
            int mid  = left + (right-left)/2;
            long square = (long)mid*mid; // 開大，避免溢位
            if(square == num) return true;
            else if(square < num) left = mid+1;
            else right = mid -1;
        }
        return false;
    }
};
```



### 405. Convert a Number to Hexadecimal
- 十進位轉十六近位(不准用函數)。
![upgit_20241201_1733048505.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2024/12/upgit_20241201_1733048505.png)
```cpp
class Solution {
public:
    string toHex(int num) {
        string s = "0123456789abcdef";
        string ans = "";  // 存儲結果字串
        
        if(num==0)return "0";
        // 將 num 轉換為無符號數(處裡負數轉正數)
        unsigned int n = num;

        // 開始轉16進制
        while (n) {
            ans = s[n & 0xF] + ans;  // 提取最低 4 位並找到對應字元
            n >>= 4;  // 右移 4 位，處理下一組 4 位
        }
        return ans;
    }
};
```










