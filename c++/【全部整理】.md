## 1. 程式語言基本區分

-   程式語言基本可以分為高階語言(high-level languages)與低階語言(low-level languages)
-   高階語言
    -   貼近人類的表達方式，易學易懂
    -   缺點是無法有效控制低階的硬體，執行效率也相對較差。
-   低階語言
    -   擁有良好的執行效率，並提供強大的硬體控制
    -   很難學習和理解。編寫、讀取、除錯和維護相對較具挑戰性。

### 1.1. 程式語言開發過程

-   C 語言從設計、到最後執行會依據下列步驟進行：

1. Create a source file.
2. Use an editor to write the original source code.
3. Compile and link the program. At this stage, the system will generate an executable module.
4. Execute the program.

### 1.2. Linker 與 Executables

-   Linker  負責在連結階段找到函式庫，並將正確的函式呼叫插入到目標程式中。

## 2. 第一支程式

```c
#include <stdio.h>
#include <stdlib.h>

int main(){
    int no;
    no = 2;
    printf("Hello World!!\n");
    printf("there are %d pandas in Taipei", no);

    system("PAUSE");
    return 0;
}
```

## 3. 編譯&執行方式

```shell
gcc test.c -o test // 將.C檔編譯成執行檔
.\test // 執行
```

## 4. 標頭擋

```c
#include <內建標題檔.h>
#include "自訂標題檔.h"
```

## 5. 變數的基本概念

-   變數的宣告告訴電腦要為變數分配多少記憶體空間。
-   變數是強型別(strongly typed)語言的一部分，這意味著在宣告變數時，必須明確指定其資料型態。
-   變數命名規則：https://reurl.cc/A2zqNQ

```c
int sum = 0;
```

### 5.1. 變數的宣告

-   變數宣告就是在程式碼中指定變數名稱和其資料型態

```c
#include <stdio.h>
#include <stdlib.h>

int main(){
    // 宣告
    int num1, num2;

    // 初始化
    int num1 = 30;  // 初始化 num1
    int num2 = 77;  // 初始化 num2
    return 0;
}
```

### 5.2. 基本資料型態

-   可以用 sizeof()查詢資料長度。

#### 5.2.1. 整數型

```c
int a = 80; // 十進位
int a = 0120 // 八進位(前面+個0)
int a = 0x50 // 十六進位

// 修飾詞
int a = 58; // 占 4byte(32bits)
short int a = 58; // 占 2byte(16bits)
long int a = 58; // 占 8byte(64bits)
```

#### 5.2.2. 浮點數

-   float：4byte
-   double：8byte

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
    float f1 = 123.4563357109375f; // 宣告單精度浮點數
    double d1 = 123456789.123456789123; // 宣告雙精度浮點數
    printf("f1=%f\n", f1); // f1=123.456337
    printf("d1=%f\n", d1); // d1=123456789.123457
    return 0;
}
```

#### 5.2.3. 字元 char

-   字元型用於存儲單個字符，使用 ASCII 編碼來表示字符的數值
-   佔用 1 個位元組。
-   範圍：-128 到 127 或 0 到 255（取決於是否使用 signed 或 unsigned）。
-   跳脫字符：在 C 語言中，字串其實是一個字符陣列，以空字元 '\0' 作為結束標誌

```c
char str[] = "Hello, World!";
// `\n`：換行
// `\t`：水平製表符
// `\\`：反斜線字符
```

### 5.3. 資料型態轉換

-   C 編譯器會自動將「範圍小的型態」轉換為「範圍大的型態」，以避免資料丟失

```c
int i = 3;
float f = 5.2;
double d;

d = i + f;  // i 會被轉換成 float，然後結果再轉換為 double
```

### 5.4. 強制型態轉換

-   如果需要將某個資料強制轉換為另一種型態，可以使用強制轉換運算符

```c
double x = 5.7;
int y;

y = (int) x;  // 將 double 型態的 x 強制轉換為 int，結果為 5
```

## 6. 定義常數的方式

### 6.1. 方式 1：使用#define

-   `#define` 是一個預處理指令
-   在編譯期間，所有使用到這個名稱的地方，預處理器會用對應的值來替換
-   在編譯前就完成了代換
-   優點：高效：由於在編譯時直接替換，需要額外的記憶體空間來存儲常數值
-   缺點：沒有類型檢查，因此不受任何編譯期的類型檢查，這可能導致一些潛在的錯誤

```c
#define PI 3.14159
#define SQUARE(x) (x * x)

// 如果使用SQUARE(3 + 1)，就會變成(3 + 1 * 3 + 1)，就不是預期答案
```

### 6.2. 方式 2：使用 const

-   const 定義的常數有類型，並且會在記憶體中分配空間。
-   優點：因為有資料型態，因此可以接受編譯器的類型檢查，從而避免因類型錯誤導致的問題
-   缺點：佔用記憶體

```c
#include <stdio.h>
#define PI_1 3.14159

int main() {
    const float PI_2 = 3.14159;  // 定義一個常數
    float radius = 5.0;
    float area1 = radius * radius * PI_1;
    float area2 = radius * radius * PI_2;
    printf("aera of circle %.2f\n", area1);
    printf("aera of circle %.2f\n", area2);
    return 0;
}
```

## 7. bit/bytes

### 7.1. 位元 (bit)

-   位元 (bit) 是電腦中最小的數據單位。
-   它可以表示 0 或 1 兩種狀態（像開或關，對應於電路中的電流有或沒有）。

### 7.2. 位元組 (byte)

-   位元組 (byte) 是由 8 個位元 (bits) 組成的數據單位。
-   每個位元都有兩種可能性（0 或 1），所以 8 個位元可以有 256 種組合。

## 輸入輸出

### scanf

-   輸入的格式必須和指定的格式化字串一致（如 %d 表示整數，%f 表示浮點數等）

### fgets

-   從標準輸入或文件中讀取一行字串
-   比 gets 更安全，因為可以指定最大讀取長度

```c
char str[100];
fgets(str, sizeof(str), stdin);
```

### printf

-   格式化輸出到標準輸出（通常是屏幕）

### puts

-   比 printf 簡單，適合輸出純文本
-   輸出字串並自動換行

```c
puts("Hello, World!");
```

## 8. ASCII

-   ASCII（American Standard Code for Information Interchange）是早期設計的一種字符編碼方式，用來將字母、數字和符號對應到二進制數字。

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
    char c = 'a';
    printf("character: %c\n", c);
    printf("decimal ASCII code: %d\n", c);
    printf("hex ASCII code: %x\n", c);
    return 0;
}
// character: a
// decimal ASCII code: 97
// hex ASCII code: 61
```

## 9. flow control

-   選擇結構(Selection Statements)
    -   if
    -   switch 多重選擇敘述：根據表達式的值執行多種操作之一。
-   迴圈結構(Iteration Statements)
    -   while 迴圈：當條件為真時重複執行。
    -   do…while 迴圈：至少執行一次，然後根據條件決定是否繼續。
    -   for 迴圈：根據條件設定重複次數。

### 9.1. break

-   立即退出 while、for、do while 或 switch 語句，繼續執行後續程式碼。
-   跳出 switch 語句，避免執行後續的 case。

```cpp
for (int i = 1; i <= 10; i++) {
    if (i == 5) break; // 當 i 為 5 時跳出迴圈
    printf("%d ", i);
}
// 輸出：1 2 3 4
```

### 9.2. continue

-   跳過當前迴圈中的剩餘語句，進入下一次迭代。

```cpp
for (int i = 1; i <= 5; i++) {
    if (i == 3) continue; // 當 i 為 3 時跳過
    printf("%d ", i);
}
// 輸出：1 2 4 5
```

## array

-   占有一塊連續的記憶體空間。

### initialization

```c
// 宣告空間
int score[5];

// 在宣告空間的時候，同時需要宣告值
int arr[3] = {5,7,10}; // array of int
float arr[3] = {5.1,7.1,10.1}; // array of float
char arr[3] = {'a', 'b', 'c'}; // array of charts

int arr[5] = {0}; //相當於{0,0,0,0,0}
int arr[5] = {1,2}; //相當於{1,2,0,0,0}
```

```c
// TODO: 分別輸出 5 個值，並且輸出平均

#include <stdio.h>
#include <stdlib.h>

int main(){
    int Score[5] = {87, 66, 90, 65, 70};
    int i = 0;
    float Total = 0;

    for (i = 0; i < 5; i++) {
        printf("The score of student %d is: %d\n", i + 1, Score[i]);
        Total += Score[i]; // Calculate total score
    }

    printf("Total: %.1f   Average: %.1f\n", Total, Total / 5); // Output total and average score
    return 0;
}
```

### Element Accessing

```c
// TODO: 輸入5個數值，最後輸出最小的數值

#include <stdio.h>
#include <stdlib.h>

int main(){
    int grades[5];
    int low_grage;
    for(int i=0;i<5;i++){
        printf("enter grade no.%d\t", i);
        scanf("%d", &grades[i]);
    }

    low_grage = grades[0];
    for(int i=0;i<5;i++){
        if(grades[i]<low_grage)
            low_grage = grades[i];
    }
    printf("low grade: %d", low_grage);
    return 0;
}
```

### 超出邊界

```c
#include <stdio.h>
#include <stdlib.h>

int main(){
    int arr[3] = {1,2,3,};
    for (int i = 0; i < 5; i++){
        printf("arr num: %d\n", arr[i]);
    }
    return 0;
}
// arr num: 1
// arr num: 2
// arr num: 3
// arr num: 3
// arr num: 4194432
```

### 查看 arr 的記憶體空間與長度

```c
#include <stdio.h>
#include <stdlib.h>

int main(){
    int arr1[1];
    float arr2[1];
    char arr3[1];
    printf("%d\n", sizeof(arr1));
    printf("%d\n", sizeof(arr2));
    printf("%d\n", sizeof(arr3));
    return 0;
}
// 4
// 4
// 1
```

### Project：九宮格遊戲

-   [nine_grid_game.c](./Nine%20Grid%20Game/nine_grid_game.c)

### 10. BUG：明明已經安裝好 gcc 或 gdb，可是 vscode 的 terminal 卻無法 work

-   手動設置 VS Code 的環境變數
-   點擊右下角齒輪圖標，選擇 Settings。
-   點擊右上角的 Open Settings (JSON)，打開 `settings.json` 配置文件。
-   添加以下設置(要確認好你安裝 MinGW 的路徑)

```json
"terminal.integrated.env.windows": {
	"PATH": "C:\\MinGW\\bin;${env:PATH}"
}
```

## 指標

-   %p：用於輸出記憶體地址

### 變數地址存取

```c
// TODO: 分別取址跟取值
#include <stdio.h>
#include <stdlib.h>

int main() {
    int num = 110;
    char ch = 'A';
    printf("nun\t %d\t %p\n", num, &num);
    printf("ch\t %d\t %c\t %p\n", ch, ch, &ch);
    return 0;
}
```

### 陣列地址存取

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int num[5] = {1,2,3,4,5};
    size_t length = sizeof(num) / sizeof(num[0]);
    puts("長度   元素    地址");
    for(int i=0;i<length;i++){
        printf("%d\t %d\t %p\n", i, num[i], &num[i]);
    }
    return 0;
}
```

### 指標變數

-   無法變更指標所指向的 data type

```c
// TODO: 宣告方式
int *x;
int *x, *y;
int *y=NULL;
```

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int a1=40, a2=50, a3=60;
    int *p1 = &a1;
    int *p2 = &a2;
    int *p3 = &a3;
    printf("%p\t %d\n", p1, *p1);
    printf("%p\t %d\n", p2, *p2);
    printf("%p\t %d\n", p3, *p3);
    return 0;
}
```

### 雙重指標

-   指標是指向資料型態
-   雙重指標是指向目標的指標

```c
#include <stdio.h>
#include <stdlib.h>
int main() {
    // a1 <- p1 <- p2
    int a1 = 10;       // 定義整數變數 a1
    int *p1 = &a1;     // 定義指向 a1 的指標 p1
    int **p2 = &p1;    // 定義指向 p1 的指標 p2

    puts("元素\t地址\t\t值");
    printf("a1:\t %p\t %d\n", &a1, a1);
    printf("p1:\t %p\t %p\t %d\n", &p1, p1, *p1);
    printf("p2:\t %p\t %p\t %p\n", &p2, p2, *p2);

    // 解釋 p2 解引用兩次的值（即 a1 的值）
    printf("**p2: %d\n", **p2);
    return 0;
}

```

### 指標運算

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int no;
    int *int_ptr = &no;

    printf("int_ptr = %p\n", int_ptr);
    int_ptr++;
    printf("int_ptr = %p\n", int_ptr);
    int_ptr--;
    printf("int_ptr = %p\n", int_ptr);
    int_ptr += 2;
    printf("int_ptr = %p\n", int_ptr);
    int_ptr -= 2;
    printf("int_ptr = %p\n", int_ptr);
    return 0;
}
```

### 指標常數與陣列

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int no [4] = {10, 12, 14, 16};
    printf("%p\n", no); // 陣列本身地址 = 陣列第一個元素的地址
    printf("%d\n", *(no)); // 取值


    int num[2][4]= {
        312, 16, 35, 65,
        52, 111, 77, 80
    };
    // 計算行數與列數
    size_t m = sizeof(num) / sizeof(num[0]);
    size_t n = sizeof(num[0]) / sizeof(num[0][0]);


    printf("%p\n", *(num+1)); //
    printf("%p\n", *(num+1)+1); //
    printf("%d\n", *(*(num+1)+1)); //

    for(int i=0;i<m;i++){
        for(int j=0;j<n;j++){
            printf("%d\t", *(*(num+i)+j));
        }
    }
    return 0;
}

```

## 5. GPT 給的學習關鍵字

### 系統核心功能

-   檔案操作：`fopen()`、`fwrite()`、`fread()`、`fseek()`、`fprintf()`
-   記憶體管理：`malloc()`、`calloc()`、`realloc()`、`free()`
-   指標進階：雙重指標、函式指標、結構指標。

### 多執行緒與並行程式設計

-   Pthreads：`pthread_create()`、`pthread_join()`、多執行緒應用，如處理器密集型任務。
-   同步機制：互斥鎖 (`pthread_mutex`)、條件變數 (`pthread_cond`)、信號量。
-   網路程式設計：`socket()`、`bind()`、`listen()`、`connect()`、`send()`、`recv()`。

### 嵌入式系統基礎

-   硬體控制：GPIO、I2C、SPI、UART。
-   FreeRTOS。

### C++ 進階學習關鍵

-   物件導向 (OOP)
-   模板 (Template)
-   錯誤處理機制
-   標準模板庫 (STL)
-   多執行緒與並行程式設計：`std::thread`、`std::mutex`、`std::future`。
-   Lambda 表達式
-   智能指標：`std::shared_ptr`、`std::unique_ptr`。
